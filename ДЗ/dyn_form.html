<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>DYN_FORM</title>
</head>
<body>
	<script>
		"use strict"
		var formDef1=[
			{label:'Название сайта:',kind:'longtext',name:'sitename'},
			{label:'URL сайта:',kind:'longtext',name:'siteurl'},
			{label:'Посетителей в сутки:',kind:'number',name:'visitors'},
			{label:'E-mail для связи:',kind:'shorttext',name:'email'},
			{label:'Рубрика каталога:',kind:'combo',name:'division',
			    variants:[
			    	{text:'здоровье',value:1},
			    	{text:'домашний уют',value:2},
			    	{text:'бытовая техника',value:3}
			    		 ]
			},
			{label:'Размещение:',kind:'radio',name:'payment',
			    variants:[
			    	{text:'бесплатное',value:1},
			    	{text:'платное',value:2},
			    	{text:'VIP',value:3}
				    	 ]
			},
			{label:'Разрешить отзывы:',kind:'check',name:'votes'},
			{label:'Описание сайта:',kind:'memo',name:'description'},
			{label:'Опубликовать:',kind:'submit'},
					];

		var formDef2=[
		  	{label:'Фамилия:',kind:'longtext',name:'lastname'},
		  	{label:'Имя:',kind:'longtext',name:'firstname'},
		  	{label:'Отчество:',kind:'longtext',name:'secondname'},
		  	{label:'Возраст:',kind:'number',name:'age'},
		  	{label:'Зарегистрироваться:',kind:'submit'},
					];

		function displayForm1() {

			var form = document.createElement("form");
			form.setAttribute("action", "https://fe.it-academy.by/TestForm.php");
			form.style.cssText = "width: 400px;";
			document.body.appendChild(form);

			for ( var i = 0; i < formDef1.length; i++) {
				var input = document.createElement("input");
				var label = document.createElement("label");
				var br = document.createElement("br");
				label.innerHTML = formDef1[i].label;
				form.appendChild(label);
				input.name = formDef1[i].name;
				if (formDef1[i].kind == "combo") {
					console.log("kind = " + formDef1[i].kind);
					var select = document.createElement("select");
					// var option = document.createElement("option");
					var arrayOptions = formDef1[i].variants;
					form.appendChild(select);
					console.log("select = " + select);
					for (var j = 0; j < arrayOptions.length; j++) {
						var option = document.createElement("option");
						option.text = arrayOptions[j].text;
						option.value = arrayOptions[j].value;
						console.log("option = " + option.text + " option value = " + option.value);
						select.appendChild(option);
					}

				} else {
					input.type = formDef1[i].kind;
					input.style.cssText = "width: 50%; float: right;";
					if (i == formDef1.length -1) {
					form.appendChild(br);
					form.removeChild(label);
					input.value = formDef1[i].label.slice(0, formDef1[i].label.length-1);
					input.name = formDef1[i].kind;
					input.style.cssText = "width: 150px;";
					form.appendChild(input);
					} else {
						form.appendChild(input);
						form.appendChild(br);
					}
				}
				// for ( var i = 0; i < formDef1.length; i++) {

				// 	for (var key in formDef1[i]) {
				// 		if (formDef1[i][key] == "combo") {
				// 			console.log("formDef1[i][key] = " + formDef1[i][key] + " key - " + key);
				// 			var select = document.createElement("select");
				// 			var option = document.createElement("option");
				// 			console.log("1=" + select);
				// 		}
				// 		console.log("2 = " + select);
				// 			if (typeof(formDef1[i][key]) == "array") {
				// 				console.log("formDef1[i][key] тип = " + typeof(formDef1[i][key]))
				// 				for ( var j = 0; j < formDef1[i][key].length; j++) {
				// 					option.value = formDef1[i][key][j].value;
				// 					option.label = formDef1[i][key][j].text;
				// 				}
				// 			}
				// 			// form.appendChild(select);
				// 			// select.appendChild(option);
				// 		// }
				// 	}
				// }
			}

		}

		function displayForm2() {

			var form = document.createElement("form");
			form.setAttribute("action", "https://fe.it-academy.by/TestForm.php");
			form.style.cssText = "width: 400px;";
			document.body.appendChild(form);

			for ( var i = 0; i < formDef2.length; i++) {
				var input = document.createElement("input");
				var label = document.createElement("label");
				var br = document.createElement("br");
				label.innerHTML = formDef2[i].label;
				form.appendChild(label);
				input.type = formDef2[i].kind;
				input.name = formDef2[i].name;
				input.style.cssText = "width: 50%; float: right;";
				if (i == formDef2.length -1) {
					form.appendChild(br);
					form.removeChild(label);
					input.value = formDef2[i].label.slice(0, formDef2[i].label.length-1);
					input.name = formDef2[i].kind;
					input.style.cssText = "width: 150px;";
					form.appendChild(input);
				} else {
					form.appendChild(input);
					form.appendChild(br);
				}
			}

		}
	</script>
</body>
</html>